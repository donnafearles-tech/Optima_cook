{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the application.",
      "properties": {
        "name": { "type": "string", "description": "The user's display name." },
        "email": { "type": "string", "description": "The user's email address.", "format": "email" }
      }
    },
    "Project": {
      "title": "Project",
      "type": "object",
      "description": "Represents a cooking project.",
      "properties": {
        "name": { "type": "string", "description": "The name of the project." },
        "description": { "type": "string", "description": "A description of the project." },
        "ownerId": { "type": "string", "description": "The ID of the user who owns the project." },
        "creationDate": { "type": "string", "format": "date-time", "description": "The date the project was created." },
        "estimatedTotalDuration": { "type": "number", "description": "The estimated total duration in seconds." }
      },
      "required": ["name", "ownerId", "creationDate"]
    },
    "Recipe": {
      "title": "Recipe",
      "type": "object",
      "description": "Represents a single recipe within a project.",
      "properties": {
        "name": { "type": "string", "description": "The name of the recipe." },
        "projectId": { "type": "string", "description": "The ID of the project this recipe belongs to." },
        "description": { "type": "string", "description": "A description of the recipe." }
      },
      "required": ["name", "projectId"]
    },
    "Task": {
      "title": "Task",
      "type": "object",
      "description": "Represents a single task within a recipe.",
      "properties": {
        "name": { "type": "string", "description": "The name of the task." },
        "duration": { "type": "number", "description": "The duration of the task in seconds." },
        "recipeId": { "type": "string", "description": "The ID of the recipe this task belongs to." },
        "projectId": { "type": "string", "description": "The ID of the project this task belongs to." },
        "predecessorIds": {
          "type": "array",
          "items": { "type": "string" },
          "description": "An array of task IDs that must be completed before this task can start."
        },
        "status": { "type": "string", "enum": ["pending", "in_progress", "completed"], "description": "The current status of the task." }
      },
      "required": ["name", "duration", "recipeId", "projectId", "predecessorIds", "status"]
    }
  },
  "auth": {
    "providers": ["anonymous"]
  },
  "firestore": {
    "'/users/{userId}'": {
      "schema": { "$ref": "#/entities/User" },
      "description": "Stores user profile information."
    },
    "'/projects/{projectId}'": {
      "schema": { "$ref": "#/entities/Project" },
      "description": "Stores all cooking projects. Security rules will enforce that users can only access their own projects via the ownerId field."
    },
    "'/recipes/{recipeId}'": {
      "schema": { "$ref": "#/entities/Recipe" },
      "description": "Stores all recipes for all projects. Queries will be based on projectId."
    },
    "'/tasks/{taskId}'": {
      "schema": { "$ref": "#/entities/Task" },
      "description": "Stores all tasks for all recipes. Queries will be based on projectId and/or recipeId."
    }
  }
}
